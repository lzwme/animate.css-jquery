{"version":3,"sources":["animate.jquery.js"],"names":["factory","define","amd","exports","module","require","window","jQuery","Error","animatecssjs","$","getRandomArrItem","arr","Math","floor","random","length","animate","el","options","animateType","animateClass","$el","$html","keyword","animateFilterList","$promise","Deferred","extend","type","infinite","reset","hideScrollbar","$e","isArray","RegExp","animateList","forEach","item","test","push","indexOf","resolve","css","removeClass","join","addClass","one","animationEnd","isFunction","callback","reject","evType","list","split","curtype","hasOwnProperty","fn","opts","this"],"mappings":"AASA,cAGC,SAAWA,GACR,GAAsB,kBAAXC,SAAyBA,OAAOC,IACvCD,OAAO,gBAAiB,UAAWD,OAChC,IAAuB,gBAAZG,UAA0C,gBAAXC,QAC7CA,OAAOD,QAAUH,EAAQK,QAAQ,eAC9B,CAAA,IAAIC,OAAOC,OAGd,KAAM,IAAIC,OAAM,oBAFhBF,QAAOG,aAAeT,EAAQM,OAAOC,UAI1C,SAAUG,GAsCT,QAASC,GAAiBC,GACtB,MAAOA,GAAIC,KAAKC,MAAMD,KAAKE,SAAWH,EAAII,SAmB9C,QAASC,GAAQC,EAAIC,GAEjB,GAEIC,GACAC,EACAC,EACAC,EACAC,EANAC,KACAC,EAAWhB,EAAEiB,UAuBjB,OAhBkB,gBAAPT,IAAmBA,EAAGF,OAC7BM,EAAMZ,EAAEQ,GAERC,EAAUD,EAEdC,EAAUT,EAAEkB,QAAO,GACfC,KAAM,GACNC,UAAU,EACVN,QAAS,GACTO,OAAO,EACPC,eAAe,GAChBb,GAEHK,EAAUL,EAAQK,QAClBF,EAAMZ,EAAEY,GAAOH,EAAQG,KAAOH,EAAQc,IAAMd,EAAQD,IAE/CI,EAAIN,QAITI,EAAcD,EAAQU,MAAQV,EAAQE,aAClCX,EAAEwB,QAAQd,KACVA,EAAcT,EAAiBS,KAI9BA,GAAeI,IACO,gBAAZA,KACPA,EAAU,GAAIW,QAAOhB,EAAQK,QAAS,MAItCA,YAAmBW,UACnBC,EAAYC,QAAQ,SAAUC,GACtBd,EAAQe,KAAKD,IACbb,EAAkBe,KAAKF,KAG/BlB,EAAcT,EAAiBc,MAKjCW,EAAYK,QAAQrB,KACtBA,EAAcT,EAAiByB,IAGnCf,EAAeD,EAAc,YAEzBD,EAAQa,gBACRT,EAAQb,EAAE,eAGVS,EAAQW,UACRT,GAAgB,YAEhBK,EAASgB,QAAQtB,IACVG,GACPA,EAAMoB,IAAI,WAAY,UAG1BrB,EAAIsB,YAAYR,EAAYS,KAAK,KAAO,sBACnCC,SAASzB,GACT0B,IAAIC,EAAc,WACXzB,GACAA,EAAMoB,IAAI,WAAY,IAGtBxB,EAAQY,OACRT,EAAIsB,YAAYvB,GAGhBX,EAAEuC,WAAW9B,EAAQ+B,WACrB/B,EAAQ+B,WAIZxB,EAASgB,QAAQtB,KAGlBM,GA/DIA,EAASyB,OAAO,4BAnF/B,GAgBIH,GAhBAZ,GACA,SAAU,QAAS,QAAS,aAAc,QAAS,QAAS,OAAQ,SAAU,QAC9E,WAAY,eAAgB,eAAgB,gBAAiB,aAC7D,YAAa,gBAAiB,gBAAiB,iBAAkB,cACjE,SAAU,aAAc,gBAAiB,aAAc,gBAAiB,cAAe,iBAAkB,WAAY,cACrH,UAAW,cAAe,iBAAkB,cAAe,iBAAkB,eAAgB,kBAAmB,YAAa,eAC7H,OAAQ,UAAW,UAAW,WAAY,WAC1C,eAAgB,gBAChB,WAAY,mBAAoB,oBAAqB,iBAAkB,kBACvE,YAAa,oBAAqB,qBAAsB,kBAAmB,mBAC3E,YAAa,cAAe,cAAe,eAC3C,aAAc,eAAgB,eAAgB,gBAC9C,SAAU,aAAc,aAAc,cAAe,WACrD,UAAW,cAAe,cAAe,eAAgB,YACzD,QAAS,eAAgB,SAAU,UAsJvC,OAnIAY,GAZA,WACI,GAAII,GACAC,EAAO,8EAQX,OANAA,GAAKC,MAAM,KAAKjB,QAAQ,SAAUkB,GAC1BjD,OAAOkD,eAAe,KAAOD,KAC7BH,EAASG,KAIVH,GAAUC,KAsHrBpC,EAAQmB,YAAcA,EAGtB1B,EAAE+C,GAAG7B,QACDnB,aAAc,SAAUiD,GAKpB,OAJKtB,EAAYK,QAAQiB,KACrBA,GAAQ7B,KAAM6B,IAGXzC,EAAQP,EAAEkB,UAAW8B,GACxBpC,IAAKZ,EAAEiD,YAKZ1C","file":"dist/animate.jquery.min.js","sourcesContent":["/**\n * @file animate 组件，设置元素动画。依赖于 animate.css\n * @author lzwy0820@gmail.com\n * @sine   2016-04-05\n * @update 2016-11-03\n * @module dwAnimate\n * @see 动画效果参见 ${@link https://daneden.github.io/animate.css/ animate.css}\n * @github https://github.com/lzwme/animate.css.js\n */\n'use strict';\n// import 'animate.css';\n\n;(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        define('animatecssjs', ['jquery'], factory);\n    } else if (typeof exports === 'object' && typeof module === 'object') {\n        module.exports = factory(require('jquery'));\n    } else if (window.jQuery) {\n        window.animatecssjs = factory(window.jQuery);\n    } else {\n        throw new Error('Not found jQuery.');\n    }\n})(function ($) {\n    // 76 种效果\n    var animateList = [\n        'bounce', 'flash', 'pulse', 'rubberBand', 'shake', 'swing', 'tada', 'wobble', 'jello',\n        'bounceIn', 'bounceInDown', 'bounceInLeft', 'bounceInRight', 'bounceInUp',\n        'bounceOut', 'bounceOutDown', 'bounceOutLeft', 'bounceOutRight', 'bounceOutUp',\n        'fadeIn', 'fadeInDown', 'fadeInDownBig', 'fadeInLeft', 'fadeInLeftBig', 'fadeInRight', 'fadeInRightBig', 'fadeInUp', 'fadeInUpBig',\n        'fadeOut', 'fadeOutDown', 'fadeOutDownBig', 'fadeOutLeft', 'fadeOutLeftBig', 'fadeOutRight', 'fadeOutRightBig', 'fadeOutUp', 'fadeOutUpBig',\n        'flip', 'flipInX', 'flipInY', 'flipOutX', 'flipOutY',\n        'lightSpeedIn', 'lightSpeedOut',\n        'rotateIn', 'rotateInDownLeft', 'rotateInDownRight', 'rotateInUpLeft', 'rotateInUpRight',\n        'rotateOut', 'rotateOutDownLeft', 'rotateOutDownRight', 'rotateOutUpLeft', 'rotateOutUpRight',\n        'slideInUp', 'slideInDown', 'slideInLeft', 'slideInRight',\n        'slideOutUp', 'slideOutDown', 'slideOutLeft', 'slideOutRight',\n        'zoomIn', 'zoomInDown', 'zoomInLeft', 'zoomInRight', 'zoomInUp',\n        'zoomOut', 'zoomOutDown', 'zoomOutLeft', 'zoomOutRight', 'zoomOutUp',\n        'hinge', 'jackInTheBox', 'rollIn', 'rollOut'\n    ];\n    var animationEnd;\n\n    /**\n     * 取得当前浏览器支持的动画结束类型\n     */\n    function getAnimationEnd() {\n        var evType;\n        var list = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';\n\n        list.split(' ').forEach(function (curtype) {\n            if (window.hasOwnProperty('on' + curtype)) {\n                evType = curtype;\n            }\n        });\n\n        return evType || list;\n    }\n    animationEnd = getAnimationEnd();\n\n    // 从数组中取得随机一个值\n    function getRandomArrItem(arr) {\n        return arr[Math.floor(Math.random() * arr.length)];\n    }\n    /**\n     * animate 设置元素动画。依赖于 animate.css，应手动引入相关样式\n     * @param {String|Object} options.el 为 $el 或 options\n     * @param {Object} options 主要参数示例：\n     * ```js\n     * {\n     *     $el: null, 执行动画的元素jquery对象，或 class\\id\n     *     type: null, 动画类型，为 string。为空时随机取值执行；为数组列表时从列表中随机选择执行\n     *     infinite: false, 是否无限运动\n     *     keyword: '', 为随机取值时，限定包含关键字的动画列表。可为简单正则，未匹配到则随机取值\n     *     reset: true,  执行后是否重置状态\n     *     hideScrollbar: true, 执行时是否隐藏浏览器 scrollbar\n     *     callback infinite为 false 时，成功执行后回调\n     * }\n     * ```\n     * @return {Object}         $.Deferred 对象，当 infinite 为false时，动画执行完成后设置其状态为 resolved\n     */\n    function animate(el, options) {\n        // 支持的动画类型，75 种\n        var animateFilterList = [], // 用于 keyword 过滤\n            $promise = $.Deferred(),\n            animateType,\n            animateClass,\n            $el,\n            $html,\n            keyword;\n\n        if (typeof el === 'string' || el.length) {\n            $el = $(el);\n        } else {\n            options = el;\n        }\n        options = $.extend(true, {\n            type: '',\n            infinite: false,\n            keyword: '',\n            reset: true,\n            hideScrollbar: true\n        }, options);\n\n        keyword = options.keyword;\n        $el = $($el || options.$el || options.$e || options.el);\n\n        if (!$el.length) { // 元素不存在\n            return $promise.reject('not found target element');\n        }\n\n        animateType = options.type || options.animateClass;\n        if ($.isArray(animateType)) { // 给定数组中随机显示\n            animateType = getRandomArrItem(animateType);\n        }\n\n        // 过滤关键字的随机取值，keyword 可为字符串或正则表达式\n        if (!animateType && keyword) {\n            if (typeof keyword === 'string') {\n                keyword = new RegExp(options.keyword, 'i');\n            }\n\n            // 为正则\n            if (keyword instanceof RegExp) {\n                animateList.forEach(function (item) {\n                    if (keyword.test(item)) {\n                        animateFilterList.push(item);\n                    }\n                });\n                animateType = getRandomArrItem(animateFilterList);\n            }\n        }\n\n        // 随机取值\n        if (!~animateList.indexOf(animateType)) {\n            animateType = getRandomArrItem(animateList);\n        }\n\n        animateClass = animateType + ' animated';\n\n        if (options.hideScrollbar) {\n            $html = $('html:eq(0)');\n        }\n\n        if (options.infinite) {\n            animateClass += ' infinite';\n            // 标记执行完成\n            $promise.resolve(animateType);\n        } else if ($html) {\n            $html.css('overflow', 'hidden');\n        }\n\n        $el.removeClass(animateList.join(' ') + ' infinite animated')\n            .addClass(animateClass)\n            .one(animationEnd, function () {\n                if ($html) {\n                    $html.css('overflow', '');\n                }\n\n                if (options.reset) { // 执行完成后是否复原状态\n                    $el.removeClass(animateClass);\n                }\n\n                if ($.isFunction(options.callback)) {\n                    options.callback();\n                }\n\n                // 标记执行完成\n                $promise.resolve(animateType);\n            });\n\n        return $promise;\n    }\n\n    animate.animateList = animateList;\n\n    // jQuery plugins\n    $.fn.extend({\n        animatecssjs: function (opts) {\n            if (~animateList.indexOf(opts)) {\n                opts = {type: opts};\n            }\n\n            return animate($.extend({}, opts, {\n                $el: $(this)\n            }));\n        }\n    });\n\n    return animate;\n});\n"]}